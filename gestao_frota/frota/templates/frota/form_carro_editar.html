<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Editar Carro</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 30px;
        }
        form div {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input[type="text"],
        input[type="number"] {
            width: 300px;
            padding: 8px;
        }
        .errors {
            color: red;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

<h1>Editar Carro: {{ carro.marca }} {{ carro.modelo }}</h1>

<form method="POST">
    {% csrf_token %}

    {% if form.errors %}
    <div class="errors">
        <strong>Erros encontrados:</strong>
        <ul>
            {% for field in form %}
                {% for error in field.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <div>
        <label for="placa">Placa:</label>
        <input type="text" id="placa" name="placa" value="{{ carro.placa }}" required>
    </div>

    <div>
        <label for="marca">Marca:</label>
        <input type="text" id="marca" name="marca" value="{{ carro.marca }}" required>
    </div>

    <div>
        <label for="modelo">Modelo:</label>
        <input type="text" id="modelo" name="modelo" value="{{ carro.modelo }}" required>
    </div>

    <div>
        <label for="ano">Ano de Fabricação:</label>
        <input type="number" id="ano" name="ano" value="{{ carro.ano_fabricacao }}" min="1900" max="2100" required>
    </div>

    <div>
        <label for="em_manutencao">
            <input type="checkbox" id="em_manutencao" name="em_manutencao" value="1"
                   {% if carro.em_manutencao %}checked{% endif %}>
            Em manutenção
        </label>
    </div>

    <div>
        <button type="submit">Salvar Alterações</button>
        <a href="{% url 'lista_carros' %}" style="margin-left: 15px;">Cancelar e voltar para a lista</a>
    </div>
</form>

</body>
</html>